<!DOCTYPE html>
<html ng-app="BTorrent" lang="en">
  <head>
    <base href="">
    <meta charset="UTF-8">
    <title>βTorrent: Browser WebTorrent Client</title>
    <meta name="description" content="βTorrent is the first fully-featured Browser WebTorrent Client">
    <meta name="keywords" content="βTorrent, btorrent, client, webtorrent, browser, torrent, stream, bittorrent, torrenting, sharing, filesharing">
    <meta name="author" content="Diego Rodríguez Baquero - DiegoRBaquero">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.jsdelivr.net/g/webtorrent@0.67.1,momentjs@2.10,angularjs@1.4,angular.ui-grid@3.0,angular.ng-notify@0.7,angular.file-upload@10.1"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/g/normalize@3.0,skeleton@2.0,angular.ng-notify@0.7(ng-notify.min.css)">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/fontawesome/4.5/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/angular.ui-grid/3.0.7/ui-grid.min.css">
    <link rel="stylesheet" href="style.css">
  </head>
  <body ng-controller="BTorrentCtrl" ng-cloak="">
    <header>
      <h1>βTorrent<span class="version"> v0.10.2</span></h1>
    </header>
    <div class="container">
      <div class="row">
        <div class="four columns">
          <input type="text" placeholder="magnet link or hash" ng-model="torrentInput" ng-disabled="disabled" class="u-full-width">
        </div>
        <div class="two columns download-button">
          <button ng-click="addMagnet()" ng-disabled="!torrentInput.length || disabled" ng-class="{&quot;button-primary&quot;: torrentInput.length}"><i class="fa fa-download"></i> Download</button>
        </div>
        <div class="three columns">
          <button type="file" ngf-select="openTorrentFile($file)" ng-disabled="disabled" ng-class="{&quot;button-primary&quot;: !disabled}"><i class="fa fa-folder-open"></i> Open torrent file</button>
        </div>
        <div class="three columns u-pull-right">
          <button ngf-select="seedFiles($files)" multiple="" ng-disabled="disabled" ng-class="{&quot;button-primary&quot;: !disabled}" class="u-pull-right"><i class="fa fa-upload"></i> Seed files</button>
        </div>
      </div>
      <div ui-grid="gridOptions" ui-grid-resize-columns ui-grid-selection class="row grid"></div>
      <div ng-if="selectedTorrent" class="row">
        <div style="overflow: auto" class="six columns">
          <h5>{{selectedTorrent.name}}  
            <button ng-if="!selectedTorrent.swarm.paused" ng-click="selectedTorrent.pause()"><i class="fa fa-pause"></i> Pause</button>  
            <button ng-if="selectedTorrent.swarm.paused" ng-click="selectedTorrent.resume()"><i class="fa fa-play"></i> Resume</button>  
            <button ng-click="client.remove(selectedTorrent.infoHash, destroyedTorrent)" class="button-danger"><i class="fa fa-times"></i> Remove</button>
          </h5>
          <h6>Share</h6>
          <ul>
            <li><a ng-href="#{{selectedTorrent.infoHash}}" target="_blank">βTorrent</a></li>
            <li><a ng-href="{{selectedTorrent.magnetURI}}" target="_blank">Magnet URI</a></li>
            <li><a ng-href="{{selectedTorrent.safeTorrentFileURL}}" target="_self" download="{{selectedTorrent.fileName}}">.torrent</a></li>
            <li><strong>Hash: </strong>{{selectedTorrent.infoHash}} </li>
          </ul>
        </div>
        <div class="six columns">
          <h5>Files</h5>
          <table class="u-full-width">
            <thead>
              <tr>
                <th>Name</th>
                <th>Size</th>
                <th>Priority</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="file in selectedTorrent.files" class="files">
                <td ng-hide="file.done">{{file.name}}</td>
                <td ng-show="file.done"><a ng-href="{{file.url}}" download="{{file.name}}" target="_self" ng-show="file.done">{{file.name}}</a></td>
                <td>{{file.length | pbytes}}</td>
                <td>
                  <select name="{{file.name}}Priority" ng-model="file.priority" ng-init="file.priority = &quot;0&quot;" ng-change="changePriority(file)" class="no-margin">
                    <option value="1">High Priority</option>
                    <option value="0" selected="">Low Priority</option>
                    <option value="-1">Don't download</option>
                  </select>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="center"><strong>
          Client Stats: 
          ↓ {{client.downloadSpeed() | pbytes}}/s · 
          ↑ {{client.uploadSpeed() | pbytes}}/s · 
          Ratio: {{client.ratio | number:2}}</strong></div>
    </div>
    <footer><a href="https://github.com/DiegoRBaquero/BTorrent/issues" target="_blank" class="button"><i class="fa fa-github"></i> Suggest a feature / Report a bug <i class="fa fa-comment"></i></a><br>An Open-Source project by <a href="http://diegorbaquero.com">DiegoRBaquero</a><br>Powered by <a href="https://webtorrent.io">WebTorrent</a><br><small>Need WebRTC + Web Seeding for your WebTorrent powered site? Contact <a href="http://diegorbaquero.com">me</a></small></footer>
    <div ng-show="client.processing" class="spinner"><i class="fa fa-spinner fa-spin spinner-icon"></i></div>
    <script src="app.js"></script>
  </body>
</html>